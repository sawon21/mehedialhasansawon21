<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Solutions Start Here.</title>
    <style>
        /* General Styles */
@import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&family=Ubuntu:wght@400;500;700&display=swap');

@import url('https://fonts.googleapis.com/css2?family=Caudex:ital,wght@0,400;0,700;1,400;1,700&display=swap');

        body {
            font-family: "Caudex", serif;
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            display: flex;
            flex-direction: column;
            align-items: center;
            background-color: #121212;
            color: #333;
            min-height: 100vh;
            overflow-x: hidden;
        }

        h1 {
            margin-top: 30px;
            color: #fff;
            font-size: 2.5rem;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.2);
            text-align: center;
            animation: fadeIn 1.5s ease-in-out;
        }

        /* Keyframes for animations */
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes slideIn {
            from { transform: translateY(30px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }

        /* Switch Styling */
        .switch {
            position: relative;
            display: inline-block;
            margin: 20px 5px;
            animation: fadeIn 2s ease-in-out;
        }

        .switch > span {
            position: absolute;
            top: 14px;
            pointer-events: none;
            font-family: 'Helvetica', Arial, sans-serif;
            font-weight: bold;
            font-size: 12px;
            text-transform: uppercase;
            text-shadow: 0 1px 0 rgba(0, 0, 0, .06);
            width: 50%;
            text-align: center;
        }

        input.check-toggle-round-flat:checked ~ .off {
            color: #fff;
        }

        input.check-toggle-round-flat:checked ~ .on {
            color: #888;
        }

        .switch > span.on {
            left: 0;
            padding-left: 1px;
            color: black;
        }

        .switch > span.off {
            right: 0;
            padding-right: 4px;
            color: #888;
        }

        /* Toggle Styles */
        input.check-toggle {
            position: absolute;
            display: block;
            outline: 0;
            z-index: 1;
            width: 100%;
            height: 100%;
            cursor: pointer;
            opacity: 0;
        }

        input.check-toggle-round-flat + label {
            display: block;
            position: relative;
            width: 65px;
            height: 30px;
            border: 2px solid transparent;
            border-radius: 60px;
            background-color: #F36F25;
            box-shadow: inset 0 4px 0 rgba(0, 0, 0, 0.2);
            -webkit-transition: all 0.4s ease;
            transition: all 0.4s ease;
        }

        input.check-toggle-round-flat + label:before,
        input.check-toggle-round-flat + label:after {
            display: block;
            position: absolute;
            content: '';
        }

        input.check-toggle-round-flat + label:before {
            top: 2px;
            left: 2px;
            bottom: 2px;
            right: 2px;
            border-radius: 60px;
            background: #FFF;
            -webkit-transition: background 0.4s ease;
            transition: background 0.4s ease;
        }

        input.check-toggle-round-flat + label:after {
            top: 2px;
            left: 2px;
            bottom: 2px;
            width: 28px;
            border-radius: 60px;
            background-color: #F36F25;
            box-shadow: 0 4px 0 rgba(0, 0, 0, 0.3);
            -webkit-transition: margin 0.4s ease;
            transition: margin 0.4s ease;
        }

        input.check-toggle-round-flat:checked + label {
            background-color: #66a6ff;
        }

        input.check-toggle-round-flat:checked + label:after {
            margin-left: 35px;
            background-color: #66a6ff;
        }

        form {
            display: flex;
            flex-direction: column;
            width: 350px;
            padding: 20px;
            margin: 20px 0;
            background-color: #1F1F1F;
            border-radius: 12px;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.1);
            animation: fadeIn 2s ease-in-out;
        }

        label {
            font-weight: bold;
            margin-bottom: 5px;
            color: #FFB74D;
            font-size:19px;
        }

/* Hover effect */
input[type="text"]:hover,
input[type="email"]:hover,
input[type="password"]:hover,
textarea:hover {
    border-color: #00ACC1;  /* Teal border on hover */
    background-color: #444;
    color:White;
    /* Slightly lighter background on hover */
}

/* Focus effect (when the field is clicked) */
input[type="text"]:focus,
input[type="email"]:focus,
input[type="password"]:focus,
textarea:focus {
    border-color: #FF6F61;  /* Coral Red border on focus */
    background-color: #555;  /* Even lighter background when focused */
    outline: none;  /* Remove the default outline */
}


        .form-group {
            margin-bottom: 20px;
        }

        .form-description {
            font-size: 0.875rem;
            color: #B3B3B3;
            margin-bottom: 10px;
        }

        input, textarea, button {
            padding: 12px;
            font-size: 1rem;
            border-radius: 8px;
            border: 1px solid #ddd;
            transition: all 0.3s ease;
            width: 100%;
        }

        input:focus, textarea:focus {
            outline: none;
            border-color: #66a6ff;
            box-shadow: 0 0 10px rgba(102, 166, 255, 0.3);
        }

        textarea {
            resize: vertical;
            min-height: 100px;
        }

        button[type="submit"] {
            background-color: #FF6F61;
            color: white;
            border: none;
            cursor: pointer;
            font-weight: bold;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
            transition: background-color 0.3s ease;
        }

        button[type="submit"]:hover {
            background-color: green;
        }

        .problem-list {
            width: 90%;
            max-width: 800px;
            list-style-type: none;
            padding: 0;
            margin-top: 20px;
            animation: slideIn 1.5s ease-in-out;
        }

        .problem-item {
            background-color: #fff;
            padding: 20px;
            margin-bottom: 15px;
            border-radius: 12px;
            box-shadow: 0 6px 15px rgba(0, 0, 0, 0.1);
            transition: transform 0.2s ease, box-shadow 0.2s ease;
            opacity: 0;
            animation: slideIn 0.5s forwards;
        }

        .problem-item:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
        }

        .problem-item p {
            margin: 5px 0;
            font-size: 1rem;
            line-height: 1.5;
            color: #555;
        }

        .problem-item img {
            max-width: 100%;
            margin-top: 10px;
            border-radius: 8px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s ease;
        }

        .problem-item img:hover {
            transform: scale(1.05);
        }

        /* Mobile Responsive */
        @media (max-width: 768px) {
            form {
                width: 90%;
            }

            h1 {
                font-size: 2rem;
            }

            .problem-item {
                padding: 15px;
            }
        }
        marquee{
         color: yellow;
        }
    </style>
</head>
<body>
    <h1 id="formTitle">Solutions Start Here.</h1>

    <!-- Language Toggle Switch -->
    <center>
        <div class="switch">
            <input id="language-toggle" class="check-toggle check-toggle-round-flat" type="checkbox">
            <label for="language-toggle"></label>
            <span class="on">EN</span>
            <span class="off">BN</span>
        </div>
    </center>
<marquee>"অন্যায় দেখলে উপযুক্ত প্রমাণ এবং ছবি সহ জানান, আমরা দেশে পরিবর্তন আনবো।"</marquee>
    <form id="problemForm">
        <div class="form-group">
            <label for="userName" id="userNameLabel">Your Name</label>
           <p class="form-description" id="userNameDesc">Please enter your full name.</p>
            <input type="text" id="userName" placeholder="Your Name" required>
        </div>
        <div class="form-group">
            <label for="problemTitle" id="problemTitleLabel">Problem Title</label>
            <p class="form-description" id="problemTitleDesc">Give a brief title to your problem.</p>
            <input type="text" id="problemTitle" placeholder="Problem Title" required>
        </div>
        <div class="form-group">
            <label for="placeName" id="placeNameLabel">Place Name</label>
            <p class="form-description" id="placeNameDesc">Specify the location related to the problem.</p>
            <input type="text" id="placeName" placeholder="Place Name" required>
        </div>
        <div class="form-group">
            <label for="problemDescription" id="problemDescriptionLabel">Problem Description</label>
            <p class="form-description" id="problemDescriptionDesc">Describe the problem in detail.</p>
            <textarea id="problemDescription" placeholder="Describe the problem..." required></textarea>
        </div>
        <div class="form-group">
            <label for="desiredSolution" id="desiredSolutionLabel">Desired Solution</label>
            <p class="form-description" id="desiredSolutionDesc">What solution are you expecting?</p>
            <textarea id="desiredSolution" placeholder="What solution are you expecting?" required></textarea>
        </div>
        <div class="form-group">
            <label for="imageUrl" id="imageUrlLabel">Image URL (optional)</label>
            <p class="form-description" id="imageUrlDesc"><a href="imgup.jpg" style="color:purple"><i>Click here to see how to upload images.</i></a><br> <br>Now go to <a href="https://postimages.org/" style="color:green"><b><i>POST IMAGE</i></b></a> website and upload the image.<br> Copy the <del>(link)</del> <b> "Direct link"</b> and paste it in the box</p>
            <input type="text" id="imageUrl" placeholder="Image URL (Only - Direct Link) Copy & Paste">
        </div> <br>
        <button type="submit">Submit Problem</button>
        <br>
        <h5 style="color:#666" align="center">Powered by <a href="https://www.facebook.com/mdmehedialhasansawon?mibextid=ZbWKwL" style="color:#888">Mehedi Al Hasan Sawon</a></h5>
        <h6 style="color:#555" align="center">visitors</h6>
        <h6 align="center"><a><img src="https://counter2.optistats.ovh/private/freecounterstat.php?c=ppez4a3qhp5uty52quqklz5xbyax8nb5" border="0" title="website counter" alt="website counter"></a></h6>
    </form>

    <ul id="problemList" class="problem-list"></ul>

    <script>
        const DISCORD_WEBHOOK_URL = 'https://discord.com/api/webhooks/1272249421693718588/9o17lP2YueTXSPi-EoTTY_awSe2H9-8zUqmrxKTSB7TW7bhCF8nOmDNZsn_Wn-EDK8Dt';

        document.addEventListener('DOMContentLoaded', loadProblems);

        const problemForm = document.getElementById('problemForm');
        problemForm.addEventListener('submit', saveProblem);

        // Language toggle elements
        const languageToggle = document.getElementById('language-toggle');

        // Elements that will be translated
        const formTitle = document.getElementById('formTitle');
        const userNameLabel = document.getElementById('userNameLabel');
        const userNameDesc = document.getElementById('userNameDesc');
        const problemTitleLabel = document.getElementById('problemTitleLabel');
        const problemTitleDesc = document.getElementById('problemTitleDesc');
        const placeNameLabel = document.getElementById('placeNameLabel');
        const placeNameDesc = document.getElementById('placeNameDesc');
        const problemDescriptionLabel = document.getElementById('problemDescriptionLabel');
        const problemDescriptionDesc = document.getElementById('problemDescriptionDesc');
        const desiredSolutionLabel = document.getElementById('desiredSolutionLabel');
        const desiredSolutionDesc = document.getElementById('desiredSolutionDesc');
        const imageUrlLabel = document.getElementById('imageUrlLabel');
        const imageUrlDesc = document.getElementById('imageUrlDesc');

        // Translation mappings
        const translations = {
            en: {
                formTitle: "Solutions Start Here.",
                userNameLabel: "Your Name",
                userNameDesc: "Please enter your full name.",
                problemTitleLabel: "Problem Title",
                problemTitleDesc: "Give a brief title to your problem.",
                placeNameLabel: "Place Name",
                placeNameDesc: "Specify the location related to the problem.",
                problemDescriptionLabel: "Problem Description",
                problemDescriptionDesc: "Describe the problem in detail.",
                desiredSolutionLabel: "Desired Solution",
                desiredSolutionDesc: "What solution are you expecting?",
                imageUrlLabel: "Image URL (optional)",
                imageUrlDesc: "Provide a URL to an image related to the problem."
            },
            bn: {
                formTitle: "Solutions Start Here.",
                userNameLabel: "আপনার নাম",
                userNameDesc: "আপনার পূর্ণ নাম লিখুন।",
                problemTitleLabel: "সমস্যার শিরোনাম",
                problemTitleDesc: "আপনার সমস্যার সংক্ষিপ্ত শিরোনাম দিন।",
                placeNameLabel: "স্থান নাম",
                placeNameDesc: "সমস্যার সাথে সম্পর্কিত স্থান নির্দিষ্ট করুন।",
                problemDescriptionLabel: "সমস্যার বর্ণনা",
                problemDescriptionDesc: "সমস্যাটি বিস্তারিতভাবে বর্ণনা করুন।",
                desiredSolutionLabel: "প্রত্যাশিত সমাধান",
                desiredSolutionDesc: "আপনি কোন সমাধান আশা করছেন?",
                imageUrlLabel: "ছবির URL (ঐচ্ছিক)",
                imageUrlDesc: "সমস্যার সাথে সম্পর্কিত একটি ছবির URL দিন।"
            }
        };

        // Function to switch language
        function switchLanguage(lang) {
            formTitle.innerText = translations[lang].formTitle;
            userNameLabel.innerText = translations[lang].userNameLabel;
            userNameDesc.innerText = translations[lang].userNameDesc;
            problemTitleLabel.innerText = translations[lang].problemTitleLabel;
            problemTitleDesc.innerText = translations[lang].problemTitleDesc;
            placeNameLabel.innerText = translations[lang].placeNameLabel;
            placeNameDesc.innerText = translations[lang].placeNameDesc;
            problemDescriptionLabel.innerText = translations[lang].problemDescriptionLabel;
            problemDescriptionDesc.innerText = translations[lang].problemDescriptionDesc;
            desiredSolutionLabel.innerText = translations[lang].desiredSolutionLabel;
            desiredSolutionDesc.innerText = translations[lang].desiredSolutionDesc;
        }

        // Event listener for language toggle switch
        languageToggle.addEventListener('change', (e) => {
            if (e.target.checked) {
                switchLanguage('bn');
            } else {
                switchLanguage('en');
            }
        });

        function saveProblem(e) {
            e.preventDefault();

            const name = document.getElementById('userName').value;
            const title = document.getElementById('problemTitle').value;
            const placeName = document.getElementById('placeName').value;
            const description = document.getElementById('problemDescription').value;
            const solution = document.getElementById('desiredSolution').value;
            const imageUrl = document.getElementById('imageUrl').value;
            const date = new Date();
            const timestamp = date.toLocaleString();

            let postCount = parseInt(localStorage.getItem('postCount')) || 0;
            postCount += 1;

            // Store the problem data in localStorage
            storeAndSendProblem(name, title, placeName, description, solution, imageUrl, timestamp, postCount);

            problemForm.reset(); // Clear the form fields
            localStorage.setItem('postCount', postCount); // Update post count in localStorage
        }

        function storeAndSendProblem(name, title, placeName, description, solution, imageUrl, timestamp, postCount) {
            let problems = JSON.parse(localStorage.getItem('problems')) || [];
            const problemData = { name, title, placeName, description, solution, imageUrl, timestamp, postCount };
            problems.unshift(problemData); // Add the new problem at the start of the list
            localStorage.setItem('problems', JSON.stringify(problems)); // Save the updated problems array to localStorage

            loadProblems(); // Update the displayed list of problems

            sendProblemToDiscord(problemData); // Send the problem data to Discord
        }

        function sendProblemToDiscord(problemData) {
            const { name, title, placeName, description, solution, imageUrl, timestamp, postCount } = problemData;

            const payload = {
                content: `**#${postCount} | Problem Report**\n**Name:** ${name}\n**Title:** ${title}\n**Place:** ${placeName}\n**Problem:** ${description}\n**Solution Wanted:** ${solution}\n**Time:** ${timestamp}`,
                embeds: []
            };

            if (imageUrl) {
                payload.embeds.push({
                    image: {
                        url: imageUrl
                    }
                });
            }

            fetch(DISCORD_WEBHOOK_URL, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify(payload),
            })
            .then(response => {
                if (!response.ok) {
                    throw new Error(`HTTP error! status: ${response.status}`);
                }
                return response.json();
            })
            .then(data => {
                console.log('Successfully sent to Discord:', data);
            })
            .catch(error => {console.error('Error sending to Discord:', error);
            });
        }

        function loadProblems() {
            const problemList = document.getElementById('problemList');
            problemList.innerHTML = ''; // Clear the list before loading

            const problems = JSON.parse(localStorage.getItem('problems')) || [];

            problems.forEach(problem => {
                const problemItem = document.createElement('li');
                problemItem.className = 'problem-item';

                const problemText = `<p><strong>#${problem.postCount} | Problem Report</strong></p>
                                     <p><strong>Name:</strong> ${problem.name}</p>
                                     <p><strong>Title:</strong> ${problem.title}</p>
                                     <p><strong>Place:</strong> ${problem.placeName}</p>
                                     <p><strong>Problem:</strong> ${problem.description}</p>
                                     <p><strong>Solution Wanted:</strong> ${problem.solution}</p>
                                     <p><strong>Time:</strong> ${problem.timestamp}</p>`;
                problemItem.innerHTML = problemText;

                if (problem.imageUrl) {
                    const problemImage = document.createElement('img');
                    problemImage.src = problem.imageUrl;
                    problemImage.alt = 'Problem Image';
                    problemItem.appendChild(problemImage);
                }

                problemList.appendChild(problemItem);
            });
        }
    </script>
</body>
</html>